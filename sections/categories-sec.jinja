<style>
    /* Section */
    .categories-sec {
      
      padding: 40px 0;
    }

    /* Header */
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .section-title {
      font-weight: 500;
      font-size: 24px;
      line-height: 100%;
    }

    .view-all {
      font-weight: 500;
      font-size: 14px;
      text-decoration: none;
      color: #000;
    }

    .categories-wrapper {
      margin: 0 -8px;
    }

    .category-card {            
      border-radius: 16px;
      padding: 20px 12px;
      text-align: center;
      margin: 0 8px;
      cursor: pointer;
      transition: transform 0.3s ease;
      background: linear-gradient(
        180deg,
        var(--bg-color-1) 0%,
        var(--bg-color-2) 100%
      );
      box-shadow: 0px 4px 100px 0px #00000040 inset;
    }

    .category-card:hover {
      background: linear-gradient(
        180deg,
        var(--bg-color-2) 0%,
        var(--bg-color-1) 100%
      );
    }
    .category-card:hover img{
        transform: scale(1.1);
    }
    .category-card img {
        width: 90%;
        object-fit: contain;
        margin: auto;
        margin-bottom: 12px;
        aspect-ratio: 1 / 1;
        display: flex;
        justify-content: center;
        transition: transform 0.3s ease;
    }

    .category-card span {
      display: block;
      font-weight: 500;
      font-size: 16px;
      line-height: 100%;
    }

    /* Grid Mode */
    .categories-sec[data-layout="grid"] .categories-wrapper {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 16px;
      margin: 0;
    }

    .categories-sec[data-layout="grid"] .category-card {
      margin: 0;
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .categories-sec[data-layout="grid"] .categories-wrapper {
        grid-template-columns: repeat(4, 1fr);
      }
    }

    @media (max-width: 768px) {
      .section-header {
        flex-direction: column;
        gap: 12px;
      }

      .categories-sec[data-layout="grid"] .categories-wrapper {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>

<section
        id="{{ sectionId }}" section-id="{{ sectionId }}"
        data-lg-scroll-offset="130"
        data-md-scroll-offset="130"
        data-sm-scroll-offset="94"
        class="categories-sec {% if safeget(settings, "space_top", "true") == "true" %}app-section-margin{% endif %}"
        data-layout="{{ settings.mode }}"
>
  <div class="container-sec {% if  settings.title_sec %} section-div {% endif %}">
        {% if  settings.title_sec %}
            <div class="section-header">
                {% if settings.title_sec %}
                    <h2 class="section-title">{{ settings.title_sec }}</h2>
                {% endif %}
                {% if settings.view_all_url %}
                    <a href="{{ settings.view_all_url }}" class="view-all">{{ _("show all") }}</a>
                {% endif %}
            </div>
        {% endif %}


    <div class="categories-wrapper slick-categories">

      {% for cat in safeget(settings, "categories", []) %}
        <a href="{{ cat.category_url }}" class="category-card" style="--bg-color-1:{{ settings.bg_color_1}};--bg-color-2:{{ settings.bg_color_2}};">
            <img class="img img-card" src="{{ cat.category_image }}" alt="{{ cat.category_title }}">
            <span class="title-card" style="--text-color:{{ settings.text_color}};">{{ cat.category_title }}</span>
        </a>
      {% endfor %}

    </div>
  </div>
</section>
<script>
document.addEventListener("DOMContentLoaded", function () {

    var arrowNextClass, arrowPrevClass;

    if (window.appDirection === 'ltr') {
        arrowNextClass = 'icon-keyboard_arrow_right';
        arrowPrevClass = 'icon-keyboard_arrow_left';
    } else {
        arrowNextClass = 'icon-keyboard_arrow_left';
        arrowPrevClass = 'icon-keyboard_arrow_right';
    }

    var screenWidth = window.screen.width;

    var editingMode = {% if store.editing_mode %}true{% else %}false{% endif %};

    if (screenWidth >= 768 || editingMode) {

        $('[section-id="{{ sectionId }}"][data-layout="slider"] .slick-categories').slick({
            slidesToShow: 6,
            slidesToScroll: 1,
            infinite: false,
            autoplay: false,
            arrows: false,
            dots: false,
            rtl: !(window.appDirection === 'ltr'),
            nextArrow:
                '<button class="slick-next slick-arrow" type="button">' +
                    '<span class="' + arrowNextClass + '"></span>' +
                '</button>',
            prevArrow:
                '<button class="slick-prev slick-arrow" type="button">' +
                    '<span class="' + arrowPrevClass + '"></span>' +
                '</button>',
            responsive: [
                        { breakpoint: 1024, settings: { slidesToShow: 4 } },
                        { breakpoint: 768, settings: { slidesToShow: 2 } }
                    ]
        });
    }
});
</script>